<!DOCTYPE html>
<html lang="en">
	<head>
		
		
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		
		<link rel="canonical" href="https://rayattack.github.io/routerling/quickstart/">
		<link rel="shortcut icon" href="../img/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<title>Quickstart - Routerling Docs</title>
		<link href="../css/bootstrap-5.0.1.min.css" rel="stylesheet">
		<link href="../css/font-awesome-5.12.2-all.min.css" rel="stylesheet">
		<link href="../css/base.css" rel="stylesheet">
		<link rel="stylesheet" href="../css/highlight-github.css">
		<script src="../js/jquery-3.5.1.min.js"></script>
		<script src="../js/bootstrap-5.0.1.min.js"></script>
		<script src="../js/highlight.pack.js"></script>
		
		<script>
			var base_url = '..';
			var home_url = '../default';
			var is_outer_page = false;
			
			var pageToc = [
				{title: "Minute 1", url: "#_top", children: [
						
				{title: "1. Create a handler function", url: "#_top", children: [
				]},
				{title: "2. Connect your handler to the routerling application", url: "#2-connect-your-handler-to-the-routerling-application", children: [
				]},
				]},
				{title: "Minute 2", url: "#minute-2", children: [
						
				{title: "3. Run your routerling application", url: "#_top", children: [
				]},
				]},
				{title: "Minute 3 &amp; 4", url: "#minute-3-4", children: [
						
				{title: "1. HttpRequest", url: "#_top", children: [
				]},
				{title: "2. ResponseWriter", url: "#2-responsewriter", children: [
				]},
				{title: "3. Context", url: "#3-context", children: [
				]},
				{title: "4. Router", url: "#4-router", children: [
				]},
				]},
				{title: "Minute 5 : FAQs Anyone?", url: "#minute-5-faqs-anyone", children: [
				]},
			];

		</script>
		<script src="../js/base.js"></script> 
	</head>

	<body class="inner-page">
		

		<div class="container-fluid wm-page-content">
			<a name="_top" aria-hidden="true"></a>
			






<div class="row pt-2">
	<div class="col-sm text-center text-sm-left">
		<a href="../default/" class="btn btn-sm btn-outline-dark">
			<i class="fa fa-chevron-left" aria-hidden="true"></i>
			Previous
		</a>
		<a href="../default/" class="btn btn-sm btn-link">
			Home
		</a>
	</div>
	

	
	<div class="col-sm text-center text-sm-right">
		<a href="../samples/" class="btn btn-sm btn-link">
			Samples
		</a>
		<a href="../samples/" class="btn btn-sm btn-outline-dark">
			Next
			<i class="fa fa-chevron-right" aria-hidden="true"></i>
		</a>
	</div>
	
</div>

			

			<h1 id="minute-1">Minute 1</h1>
<p>We are assuming you have installed routerling via <code>pip install routerling</code>. If no, then go ahead and install it; If you have, then <strong>the clock is ticking so</strong> let's dive in.</p>
<hr />
<h5 id="1-create-a-handler-function">1. Create a handler function</h5>
<pre><code class="language-python">import json
from http import HTTPStatus

from routerling import HttpRequest, ResponseWriter, Context

async def get_one_customer(r: HttpRequest, w: ResponseWriter, c: Context):
    id = r.params.get('id')
    w.status = HTTPStatus.CREATED
    w.body = json.dumps({&quot;message&quot;: f&quot;routerling is easy for customer {id}&quot;})

</code></pre>
<p>As you can see above - your handler function can be async if you desire and must accept 3 arguments that will be injected by routerling. We'll get back to them in <a href="">Minute 3</a></p>
<hr />
<h5 id="2-connect-your-handler-to-the-routerling-application">2. Connect your handler to the routerling application</h5>
<pre><code class="language-python">from routerling import Router

# create the application
router = Router()

# connect it to a route
router.GET('/v1/customers/:id', get_one_customer)
</code></pre>
<p>All HTTP methods i.e. <code>GET</code>, <code>POST</code> etc. are all supported</p>
<hr />
<p>&nbsp;</p>
<h1 id="minute-2">Minute 2</h1>
<p>That was quick wasn't it? even less than a minute?</p>
<p>Well now we have an application, but it is no fun if we can't execute/run/interact with it.</p>
<hr />
<h5 id="3-run-your-routerling-application">3. Run your routerling application</h5>
<pre><code class="language-sh"># development
uvicorn application:router --reload

# production
gunicorn -w 4 -k uvicorn.workers.UvicornWorker application:router
</code></pre>
<p>Replace the number after <code>-w</code> with the number of processors you desire to run your app with.</p>
<p>!!! info "Slow Down Tiger"
    You might be asking - what about the applications port number etc? üòÅ</p>
<hr />
<p>&nbsp;</p>
<h1 id="minute-3-4">Minute 3 &amp; 4</h1>
<p>A promise is a promise. So it's time to tell you about routerling's objects. <strong><em>Don't fret - there are only 4 of them.</em></strong></p>
<h4 id="1-httprequest">1. HttpRequest</h4>
<p>All handlers will receive this as their first argument i.e. <strong><code>...(r: HttpRequest, ..., ...)</code></strong> and all HttpRequest objects come with the following bag of goodies.</p>
<ul>
<li>
<p><strong><code>r.app: Router</code></strong> -&gt; An instance of the base routerling application</p>
</li>
<li>
<p><strong><code>r.body: dict</code></strong> -&gt; The body sent along with the request</p>
</li>
<li>
<p><strong><code>r.cookies: dict</code></strong> -&gt; All the cookies sent with request <strong><em>[keys in lowercase]</em></strong></p>
</li>
<li>
<p><strong><code>r.headers: dict</code></strong> -&gt; All the headers sent with request <strong><em>[keys in lowercase]</em></strong></p>
</li>
<li>
<p><strong><code>r.method: str</code></strong> -&gt; <code>GET</code>, <code>POST</code>, <code>DELETE</code>? What method type is the http request</p>
</li>
<li>
<p><strong><code>r.params: dict</code></strong> -&gt; Querystring parameters and url masks <code>/customers/:param1</code> parsed into a dictionary</p>
</li>
<li>
<p><strong><code>r.querystring: str</code></strong> -&gt; The part after the <code>?</code> i.e. example.com<strong>?age=34</strong> parsed in comma separated string form</p>
</li>
<li>
<p><strong><code>r.subdomain: str</code></strong> -&gt; If request was made to a subdomain i.e. <code>www.example.org</code> or <code>api.example.org</code> then this holds the subdomain value e.g. <code>www</code> and <code>api</code>.</p>
</li>
<li>
<p><strong><code>r.url: str</code></strong> -&gt; The url that matched to this handler as sent by the client</p>
</li>
</ul>
<hr />
<h4 id="2-responsewriter">2. ResponseWriter</h4>
<p>All handlers receive this as the second argument i.e. <strong><code>...(..., w: ResponseWriter, ...)</code></strong> as ResponseWriters help with responding to HttpRequests.</p>
<ul>
<li>
<p><strong><code>w.abort(payload: any)</code></strong> -&gt; If this is calledx then all <code>PRE</code> and <code>POST</code> <a href="">hooks</a> will be aborted</p>
</li>
<li>
<p><strong><code>w.body: any</code></strong> -&gt; This will be sent back as the body of the response</p>
</li>
<li>
<p><strong><code>w.headers: tuple[2] | list[2]</code></strong> -&gt; How headers are set i.e. <code>w.headers = 'Set-Cookie', 'Token=12345; Max-Age=8700; Secure; HttpOnly'</code></p>
</li>
<li>
<p><strong><code>w.status: int</code></strong> -&gt; HTTP status code to be sent back with the response</p>
</li>
</ul>
<hr />
<h4 id="3-context">3. Context</h4>
<p>All handlers receive this as the third argument i.e. <strong><code>...(..., ..., c: Context)</code></strong> to help with preserving state across a request lifecycle i.e. from start/reciept to finish/response.</p>
<ul>
<li><strong><code>c.keep(alias: str, value: any)</code></strong> -&gt; Save something that can be retrieved via <a href="">Python descriptor</a> semantics. i.e. <code>c.alias</code> will return the kept value.</li>
</ul>
<hr />
<h4 id="4-router">4. Router</h4>
<p>This is the last internal routerling object to grok. You can instantiate it with an optional configuration that is stored as the application's global state.</p>
<pre><code class="language-py">router = Router({'secret_key': '...'})
# or
router = Router(function() -&gt; dict)
</code></pre>
<hr />
<ul>
<li>
<p><strong><code>router.AFTER(url: str, handler: func, subdomain: str)</code></strong> -&gt; Get a config value from the global store/state register</p>
</li>
<li>
<p><strong><code>router.BEFORE(url: str, handler: func, subdomain: str)</code></strong> -&gt; Get a config value from the global store/state register</p>
</li>
<li>
<p><strong><code>router.CONFIG(url: str, handler: func, subdomain: str)</code></strong> -&gt; Get a config value from the <code>final readonly</code> app config set at router instantiation.</p>
</li>
<li>
<p><strong><code>router.GET(url: str, handler: func, subdomain: str)</code></strong> -&gt; Registers your custom handlers/functions to be invoked when a url match is made. <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> etc.
all work in similar fashion. The <code>subdomain</code> optional argument limits the matching to a subdomain.</p>
</li>
<li>
<p><strong><code>router.HTTP(url: str, handler: func)</code></strong> -&gt; Registers your custom handlers/functions to all HTTP methods i.e. GET, PUT, POST, PUT, PATCH instead of doing it individually.</p>
</li>
<li>
<p><strong><code>router.keep(key: str, value: any)</code></strong> -&gt; Like. <code>c.keep()</code> but persisted across multiple request lifecycles.</p>
</li>
<li>
<p><strong><code>router.peek(key: str, value: any)</code></strong> -&gt; Take a peek at your global dynamic application state without removing the kept value.</p>
</li>
<li>
<p><strong><code>router.unkeep(key: str, value: any)</code></strong> -&gt; Remove and return the kept value from the global dynamic application state. </p>
</li>
</ul>
<hr />
<p>&nbsp;</p>
<h1 id="minute-5-faqs-anyone">Minute 5 : FAQs Anyone?</h1>
<p>Whew... You made it here, we are super proud of you.</p>
<p>One last thing and you will be all set to create anything with a shiny powerful web framework. It's time to answer your questions.</p>
<ol>
<li>
<p>What of authentication and authorization?</p>
<p>Routerling is a microframwork so you have to roll your own which is <a href="">pretty simple to do with python decorators</a>.</p>
</li>
<li></li>
</ol>

			<br>
			






<div class="row pt-2">
	<div class="col-sm text-center text-sm-left">
		<a href="../default/" class="btn btn-sm btn-outline-dark">
			<i class="fa fa-chevron-left" aria-hidden="true"></i>
			Previous
		</a>
		<a href="../default/" class="btn btn-sm btn-link">
			Home
		</a>
	</div>
	

	
	<div class="col-sm text-center text-sm-right">
		<a href="../samples/" class="btn btn-sm btn-link">
			Samples
		</a>
		<a href="../samples/" class="btn btn-sm btn-outline-dark">
			Next
			<i class="fa fa-chevron-right" aria-hidden="true"></i>
		</a>
	</div>
	
</div>

			<br>
		</div>

		<footer class="container-fluid wm-page-content text-center small">
			<details>
				<summary>
					Documentation built with <a href="http://www.mkdocs.org/" target="_blank">MkDocs</a> using  <a href="https://github.com/Siphalor/mkdocs-custommill" target="_blank">CustomMill</a>.
				</summary>
				<h6 class="mt-2">Additional Licenses</h6>
				<ul><li>
						CustomMill is based on the <a href="https://github.com/gristlabs/mkdocs-windmill" target="_blank">Windmill</a> theme by Grist Labs, licensed under the <a href="https://github.com/gristlabs/mkdocs-windmill/blob/master/LICENSE" target="_blank">MIT License</a>
					</li>
					<li>
						CustomMill includes <a href="https://getbootstrap.com" target="_blank">Bootstrap</a> version 5 Beta 1. This is available under the <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">MIT License</a>.
					</li>
					<li>
						CustomMill includes <a href="https://jquery.org" target="_blank">jQuery</a> version 3.2.1. This is available under the <a href="https://jquery.org/license" target="_blank">MIT License</a>.
					</li>
					<li>
						Syntax highlighting is implemented via <a href="https://highlightjs.org" target="_blank">highlight.js</a> licensed under the BSD 3-Clause License and the included github styling made by Vasily Polovnyov.
					</li>
					<li>
						Icons on this site are from <a href="https://fontawesome.com/" target="_blank">Font Awesome</a> which is licensed under the <a href="https://fontawesome.com/license/free" target="_blank">Font Awesome Free License</a>.
					</li></ul>
				<p>Built at 2022-01-02 11:39:40 UTC</p>
			</details>
		</footer>

		
	</body>
</html>